**Wazuh 4.12 Installation Guide (Single Node Setup on Ubuntu 22.04.5 VM)**

**VM Specs (Recommended):**

- 4 CPU cores
    
- 8 GB RAM (Minimum)
    
- 100 GB Storage(Minimum)
    
- Ubuntu Server 22.04.5 (64-bit)
    

---

### ✅ Step 1: Install Ubuntu Server

1. Create a new VM in Proxmox (or your preferred hypervisor).
    
2. Assign:
    
    - 4 vCPU cores
        
    - 8 GB RAM
        
    - 100 GB disk (or more)
        
3. Install Ubuntu Server 22.04.5 (x86_64).
    
4. Set hostname (e.g., `wazuh`), user account, and install OpenSSH.
    



### ✅ Step 2: Prepare the Environment

```bash
sudo apt update && sudo apt upgrade -y
sudo apt install curl nano -y
```

---


### ✅ Step 3: Prepare the nginx

```bash
sudo apt install nginx -y
sudo systemctl start nginx
sudo systemctl enable nginx
```
---
``` 
---
### ✅ Step 4: Download the Wazuh Installer and Config File

---

```bash
curl -sO https://packages.wazuh.com/4.12/wazuh-install.sh
curl -sO https://packages.wazuh.com/4.12/config.yml
chmod +x wazuh-install.sh
```

---

### ✅ Step 5 Edit config.yml for Your Node

```bash
nano config.yml
```

Replace with your local IP and node names:

```yaml
nodes:
  indexer:
    - name: node-1
      ip: 192.168.100.153
  server:
    - name: wazuh-1
      ip: 192.168.100.153
  dashboard:
    - name: dashboard
      ip: 192.168.100.153
```

---

### ✅ Step 5: Generate Config Files

```bash
sudo bash wazuh-install.sh --generate-config-files
```

This will create a `wazuh-install-files.tar` file with passwords and certificates.

---

### ✅ Step 6: Install Wazuh Indexer

```bash
sudo bash wazuh-install.sh --wazuh-indexer node-1
```

---

### ✅ Step 7 Start the Cluster

```bash
sudo bash wazuh-install.sh --start-cluster
```

Only run this **once** after the indexer is installed.

---

### ✅ Step 8: Install Wazuh Server (Manager)

```bash
sudo bash wazuh-install.sh --wazuh-server wazuh-1
```

---

### ✅ Step 9: Install Wazuh Dashboard

```bash
sudo bash wazuh-install.sh --wazuh-dashboard dashboard
```

---

### ✅ Step 10: Access the Dashboard

- Open browser to: `https://<your-wazuh-ip>/`
    
- Default login:
    

```bash
tar -axf wazuh-install-files.tar wazuh-install-files/wazuh-passwords.txt -O | grep -P "'admin'" -A 1
```

---

### ✅ Optional: Install Wazuh Agent on Another VM

Run this on each VM you want to monitor (after dashboard is working).
